{"version":3,"sources":["../source/Button.js"],"names":["Button","link_on_click","bind","button_on_click","props","disabled","busy","submit","title","stretch","style","className","markup","render_button","link","linkDownload","buttonStyle","children","properties","ref","button","contents","findDOMNode","focus","event","action","shiftKey","altKey","ctrlKey","metaKey","preventDefault","propTypes","func","bool","string","isRequired","object","defaultProps"],"mappings":"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","file":"Button.js","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport classNames from 'classnames'\r\n\r\nimport ActivityIndicator from './ActivityIndicator'\r\n\r\nexport default class Button extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// onClick handler\r\n\t\taction          : PropTypes.func,\r\n\r\n\t\t// If `busy` is `true` then the button\r\n\t\t// will be disabled and a spinner will be shown.\r\n\t\tbusy            : PropTypes.bool,\r\n\r\n\t\t// Disables the button\r\n\t\tdisabled        : PropTypes.bool,\r\n\r\n\t\t// When `true`, the button will submit an enclosing form.\r\n\t\tsubmit          : PropTypes.bool,\r\n\r\n\t\t// If `link` is set, then the button is gonna be an <a/> tag.\r\n\t\tlink            : PropTypes.string,\r\n\r\n\t\t// `<a download=\"...\"/>` HTML attribute\r\n\t\tlinkDownload    : PropTypes.string,\r\n\r\n\t\t// HTML `title` attribute\r\n\t\ttitle           : PropTypes.string,\r\n\r\n\t\t// Set to `true` to stretch the button to full width\r\n\t\tstretch         : PropTypes.bool.isRequired,\r\n\r\n\t\t// CSS class name\r\n\t\tclassName       : PropTypes.string,\r\n\r\n\t\t// CSS style object for the button container\r\n\t\tstyle           : PropTypes.object,\r\n\r\n\t\t// CSS style object for the button itself\r\n\t\tbuttonStyle     : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// Set to `true` to stretch the button to full width\r\n\t\tstretch : false\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper()\r\n\r\n\t\tthis.link_on_click   = this.link_on_click.bind(this)\r\n\t\tthis.button_on_click = this.button_on_click.bind(this)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tdisabled,\r\n\t\t\tbusy,\r\n\t\t\tsubmit,\r\n\t\t\ttitle,\r\n\t\t\tstretch,\r\n\t\t\tstyle,\r\n\t\t\tclassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst markup =\r\n\t\t(\r\n\t\t\t<div\r\n\t\t\t\tclassName={ classNames('rrui__input', 'rrui__button',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__button--busy'     : busy,\r\n\t\t\t\t\t'rrui__button--disabled' : disabled,\r\n\t\t\t\t\t'rrui__button--stretch'  : stretch\r\n\t\t\t\t},\r\n\t\t\t\tclassName) }\r\n\t\t\t\tstyle={ style }>\r\n\r\n\t\t\t\t<ActivityIndicator\r\n\t\t\t\t\tclassName={ classNames('rrui__button__activity-indicator',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t'rrui__button__activity-indicator--busy'   : busy\r\n\t\t\t\t\t}) }/>\r\n\r\n\t\t\t\t{ this.render_button() }\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn markup\r\n\t}\r\n\r\n\trender_button()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tlink,\r\n\t\t\tlinkDownload,\r\n\t\t\ttitle,\r\n\t\t\tbusy,\r\n\t\t\tdisabled,\r\n\t\t\tsubmit,\r\n\t\t\tbuttonStyle,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst className = classNames('rrui__button-reset', 'rrui__button__button',\r\n\t\t{\r\n\t\t\t'rrui__button__button--link'     : link,\r\n\t\t\t// CSS selector performance optimization\r\n\t\t\t'rrui__button__button--busy'     : busy,\r\n\t\t\t'rrui__button__button--disabled' : disabled\r\n\t\t})\r\n\r\n\t\tconst properties =\r\n\t\t{\r\n\t\t\tref: ref => this.button = ref,\r\n\t\t\ttitle,\r\n\t\t\tclassName,\r\n\t\t\tstyle: buttonStyle\r\n\t\t}\r\n\r\n\t\tconst contents = <div\r\n\t\t\tclassName={ classNames('rrui__button__contents',\r\n\t\t\t{\r\n\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t'rrui__button__contents--busy' : busy\r\n\t\t\t}) }>\r\n\t\t\t{ children }\r\n\t\t</div>\r\n\r\n\t\tif (link)\r\n\t\t{\r\n\t\t\tconst markup =\r\n\t\t\t(\r\n\t\t\t\t<a\r\n\t\t\t\t\thref={ link }\r\n\t\t\t\t\tdownload={ linkDownload }\r\n\t\t\t\t\tonClick={ this.link_on_click }\r\n\t\t\t\t\t{ ...properties }>\r\n\r\n\t\t\t\t\t{ contents }\r\n\t\t\t\t</a>\r\n\t\t\t)\r\n\r\n\t\t\treturn markup\r\n\t\t}\r\n\r\n\t\tconst markup =\r\n\t\t(\r\n\t\t\t<button\r\n\t\t\t\ttype={ submit ? 'submit' : 'button' }\r\n\t\t\t\tdisabled={ busy || disabled }\r\n\t\t\t\tonClick={ this.button_on_click }\r\n\t\t\t\t{ ...properties }>\r\n\r\n\t\t\t\t{ contents }\r\n\t\t\t</button>\r\n\t\t)\r\n\r\n\t\treturn markup\r\n\t}\r\n\r\n\tfocus()\r\n\t{\r\n\t\tReactDOM.findDOMNode(this.button).focus()\r\n\t}\r\n\r\n\tlink_on_click(event)\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tbusy,\r\n\t\t\tdisabled,\r\n\t\t\taction\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// Only handle left mouse button clicks\r\n\t\t// ignoring those ones with a modifier key pressed\r\n\t\tif (event.button !== 0\r\n\t\t\t|| event.shiftKey\r\n\t\t\t|| event.altKey\r\n\t\t\t|| event.ctrlKey\r\n\t\t\t|| event.metaKey)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (busy || disabled)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Could be just a \"submit\" button without having any `action`.\r\n\t\t// Could also be just a `link` button.\r\n\t\t// Therefore \"preventing default\" only if `action` is set:\r\n\t\t// for example, if `link` is set and no `action`\r\n\t\t// then it should proceed with navigating to the `link`.\r\n\t\t// And if `link` is set and `action` is specified too\r\n\t\t// then it will prevent it from navigating to the `link`.\r\n\t\tif (action)\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\taction()\r\n\t\t}\r\n\t}\r\n\r\n\tbutton_on_click(event)\r\n\t{\r\n\t\tconst { action } = this.props\r\n\r\n\t\t// Could be just a \"submit\" button\r\n\t\tif (action)\r\n\t\t{\r\n\t\t\taction()\r\n\t\t}\r\n\t}\r\n}"]}